<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord | Projet Rallye A√Øcha des Gazelles</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Desert Harmony -->
    <!-- Application Structure Plan: A single-page dashboard application with a fixed top navigation for easy access to the four main sections: a main dashboard with a progress chart, sponsors, events, communication, and logistics. This structure is chosen over a simple linear document to provide a task-oriented, interactive project management tool. The logistics section uses interactive accordions and checklists to manage the extensive list of items, making it far more usable than a static list. This design prioritizes quick access to information and tracking progress, which is essential for project management. -->
    <!-- Visualization & Content Choices: 
        - Fundraising Goal: Represented by a Chart.js donut chart to visually track progress towards the ‚Ç¨40,000 goal, which is more engaging than a static number. Goal: Inform/Motivate.
        - Sponsors & Events: Presented in structured tables and cards for clarity and easy scanning. Goal: Organize.
        - Logistics Checklist: Implemented as interactive accordions with checkboxes. This organizes a large amount of information cleanly and allows the user to track their acquisitions. Goal: Organize/Track. Interaction: Users can check items, and a counter updates, providing immediate feedback.
        - Financial Analysis: Interactive table with input fields for cost/revenue projections, dynamically updating a bar chart comparing event profitability. This allows for scenario planning. Goal: Analyze/Plan.
        - Info/Links Section: Interactive table to dynamically add and remove important links or file references. Goal: Organize/Centralize.
        - Event Details Section: Dedicated cards for each event with a textarea for note-taking. Goal: Plan/Detail.
        - Persistence: Added localStorage to save the state of checkboxes, textareas, and the info table, ensuring data is not lost on refresh. Goal: User Experience/Utility.
        - Navigation: Smooth scrolling JS for a seamless single-page experience. Goal: User Experience.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 300px;
            height: 300px;
            margin: auto;
        }
        .chart-container-large {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 400px;
            margin: auto;
        }
        .status-blue { background-color: #E0F2FE; color: #0C4A6E; }
        .status-green { background-color: #D1FAE5; color: #065F46; }
        .status-yellow { background-color: #FEF3C7; color: #92400E; }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        textarea {
            resize: vertical;
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-200">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-lg font-bold text-gray-900">Projet Gazelles</h1>
                </div>
                <div class="hidden lg:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#dashboard" class="nav-link text-gray-600 hover:text-rose-900 px-3 py-2 rounded-md text-sm font-medium">Tableau de Bord</a>
                        <a href="#sponsors" class="nav-link text-gray-600 hover:text-rose-900 px-3 py-2 rounded-md text-sm font-medium">Sponsors</a>
                        <a href="#events" class="nav-link text-gray-600 hover:text-rose-900 px-3 py-2 rounded-md text-sm font-medium">√âv√©nements</a>
                        <a href="#event-details" class="nav-link text-gray-600 hover:text-rose-900 px-3 py-2 rounded-md text-sm font-medium">D√©tails √âv√©nements</a>
                        <a href="#finance" class="nav-link text-gray-600 hover:text-rose-900 px-3 py-2 rounded-md text-sm font-medium">Finances</a>
                        <a href="#infos" class="nav-link text-gray-600 hover:text-rose-900 px-3 py-2 rounded-md text-sm font-medium">Infos</a>
                        <a href="#logistics" class="nav-link text-gray-600 hover:text-rose-900 px-3 py-2 rounded-md text-sm font-medium">Logistique</a>
                    </div>
                </div>
                <div class="lg:hidden">
                    <select id="mobile-nav" class="bg-white border border-gray-300 rounded-md py-2 px-3 text-sm">
                        <option value="#dashboard">Tableau de Bord</option>
                        <option value="#sponsors">Sponsors</option>
                        <option value="#events">√âv√©nements</option>
                        <option value="#event-details">D√©tails √âv√©nements</option>
                        <option value="#finance">Finances</option>
                        <option value="#infos">Infos</option>
                        <option value="#logistics">Logistique</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <section id="dashboard" class="pt-8 text-center">
            <h2 class="text-4xl font-extrabold text-gray-900 mb-4">Rallye A√Øcha des Gazelles</h2>
            <p class="text-lg text-gray-600 mb-12">Suivi de notre aventure et de notre campagne de financement.</p>
            <div class="bg-white p-8 rounded-2xl shadow-lg max-w-2xl mx-auto">
                <h3 class="text-2xl font-bold mb-2">Objectif de Financement</h3>
                <p class="text-5xl font-extrabold text-rose-900 mb-6">40 000 ‚Ç¨</p>
                <div class="chart-container">
                    <canvas id="progressChart"></canvas>
                </div>
                 <p class="mt-4 text-sm text-gray-500">Ce graphique repr√©sente la progression de notre collecte de fonds. Chaque don nous rapproche du d√©sert !</p>
            </div>
        </section>

        <div class="border-t my-16"></div>

        <section id="sponsors" class="pt-8">
            <h2 class="text-3xl font-bold text-center mb-10">üéØ Sponsors & Partenariats</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">La recherche de partenaires est cruciale pour notre projet. Cette section nous permet de suivre nos contacts et d'organiser notre d√©marchage pour obtenir le soutien mat√©riel et financier n√©cessaire.</p>
            <div class="bg-white p-6 rounded-2xl shadow-lg overflow-x-auto">
                <table class="w-full text-sm text-left">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="p-4 font-semibold">Cible</th>
                            <th class="p-4 font-semibold">Domaine</th>
                            <th class="p-4 font-semibold">Contact</th>
                            <th class="p-4 font-semibold text-center">Statut</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y">
                        <tr>
                            <td class="p-4 font-medium">Norauto</td>
                            <td class="p-4">Mat√©riel M√©canique</td>
                            <td class="p-4 text-gray-600">J√©r√¥me Dumont : jdumont@norauto.fr</td>
                            <td class="p-4 text-center"><span class="px-2 py-1 text-xs font-semibold rounded-full status-blue">√Ä contacter</span></td>
                        </tr>
                        <tr>
                            <td class="p-4 font-medium">D√©cathlon</td>
                            <td class="p-4">√âquipement Sportif</td>
                            <td class="p-4 text-gray-600">√Ä identifier</td>
                            <td class="p-4 text-center"><span class="px-2 py-1 text-xs font-semibold rounded-full status-blue">√Ä contacter</span></td>
                        </tr>
                        <tr>
                            <td class="p-4 font-medium">Intersport / Go Sport</td>
                            <td class="p-4">√âquipement Sportif</td>
                            <td class="p-4 text-gray-600">√Ä identifier</td>
                            <td class="p-4 text-center"><span class="px-2 py-1 text-xs font-semibold rounded-full status-blue">√Ä contacter</span></td>
                        </tr>
                        <tr>
                            <td class="p-4 font-medium">Total Energie</td>
                            <td class="p-4">Carburant / Financement</td>
                            <td class="p-4 text-gray-600">√Ä identifier</td>
                            <td class="p-4 text-center"><span class="px-2 py-1 text-xs font-semibold rounded-full status-blue">√Ä contacter</span></td>
                        </tr>
                        <tr>
                            <td class="p-4 font-medium">Leroy Merlin / Adeo</td>
                            <td class="p-4">Mat√©riel Bivouac</td>
                            <td class="p-4 text-gray-600">√Ä identifier</td>
                            <td class="p-4 text-center"><span class="px-2 py-1 text-xs font-semibold rounded-full status-blue">√Ä contacter</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div class="border-t my-16"></div>

        <section id="events" class="pt-8">
            <h2 class="text-3xl font-bold text-center mb-10">üìÖ Plan d'Action √âv√©nementiel</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Les √©v√©nements sont au c≈ìur de notre strat√©gie de collecte. Chaque √©v√©nement est une opportunit√© de parler de notre projet, de rassembler notre communaut√© et de nous rapprocher de notre objectif financier.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col">
                    <h3 class="font-bold mb-2">Course √† Carvin</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Participation pour gagner en visibilit√©.</p>
                    <div class="mt-auto">
                        <p class="font-semibold text-sm">Prochaine √âtape :</p>
                        <p class="text-sm text-amber-700">En attente de la r√©ponse de la mairie.</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col">
                    <h3 class="font-bold mb-2">Course d'Orientation Halloween</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Concept de labyrinthe Pop Corn √† Avelin.</p>
                    <div class="mt-auto">
                        <p class="font-semibold text-sm">Prochaine √âtape :</p>
                        <p class="text-sm">Contacter le 07 68 98 41 43.</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col">
                    <h3 class="font-bold mb-2">Vide-Dressing & Vente</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Th√®me No√´l / Concept "Bring & Buy".</p>
                    <div class="mt-auto">
                        <p class="font-semibold text-sm">Prochaine √âtape :</p>
                        <p class="text-sm">Trouver lieu, date et modalit√©s.</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col">
                    <h3 class="font-bold mb-2">Soir√©e Nouvel An 100% Femmes</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Soir√©e sp√©ciale avec repas et DJ.</p>
                    <div class="mt-auto">
                        <p class="font-semibold text-sm">Prochaine √âtape :</p>
                        <p class="text-sm">Trouver lieu, traiteur et DJ.</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col">
                    <h3 class="font-bold mb-2">Tombola & Galette des Rois</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">√âv√©nement en Janvier.</p>
                    <div class="mt-auto">
                        <p class="font-semibold text-sm">Prochaine √âtape :</p>
                        <p class="text-sm">Chercher lots, lieu et partenaire boulanger.</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col">
                    <h3 class="font-bold mb-2">Op√©ration Saint-Valentin</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Vente de fleurs pour les amoureux.</p>
                    <div class="mt-auto">
                        <p class="font-semibold text-sm">Prochaine √âtape :</p>
                        <p class="text-sm">Trouver grossiste, lieu de vente et mat√©riel.</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="border-t my-16"></div>
        
        <section id="event-details" class="pt-8">
            <h2 class="text-3xl font-bold text-center mb-10">üìù D√©tails des √âv√©nements</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Utilisez cet espace pour d√©tailler la planification de chaque √©v√©nement. Notez les contacts, les listes de t√¢ches, les id√©es de d√©coration, et tout ce qui vous aidera √† organiser des actions r√©ussies.</p>
            <div id="event-notes-container" class="grid md:grid-cols-2 gap-8">
            </div>
        </section>

        <div class="border-t my-16"></div>

        <section id="finance" class="pt-8">
            <h2 class="text-3xl font-bold text-center mb-10">üí∞ Analyse Financi√®re Pr√©visionnelle</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Cette section est votre outil pour planifier et visualiser les retomb√©es financi√®res de vos actions. Simulez les b√©n√©fices de chaque √©v√©nement et visualisez le potentiel des revenus de sponsoring pour affiner votre strat√©gie.</p>
            
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-12">
                <h3 class="font-bold text-xl mb-6 text-center">B√©n√©fices Estim√©s par √âv√©nement</h3>
                <div class="chart-container-large mb-8">
                    <canvas id="eventProfitChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left" id="event-finance-table">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="p-3 font-semibold">√âv√©nement</th>
                                <th class="p-3 font-semibold">Revenu Estim√© (‚Ç¨)</th>
                                <th class="p-3 font-semibold">Co√ªts Estim√©s (‚Ç¨)</th>
                                <th class="p-3 font-semibold text-right">B√©n√©fice Net (‚Ç¨)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y">
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <h3 class="font-bold text-xl mb-8 text-center">Potentiel de Sponsoring sur le V√©hicule</h3>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="relative w-full max-w-md mx-auto p-4">
                        <div class="bg-gray-200 rounded-t-3xl h-20 w-full"></div>
                        <div class="bg-gray-300 rounded-b-lg h-32 w-full relative grid grid-cols-5 grid-rows-2 gap-2 p-2">
                            <div class="col-span-5 row-span-2 bg-gray-400 rounded-md flex items-center justify-center text-white font-bold text-center p-2">
                                <div class="bg-rose-900/80 rounded p-2 text-xs">Capot Principal<br>3 000 ‚Ç¨</div>
                            </div>
                        </div>
                        <div class="bg-gray-200 h-40 w-full flex items-center justify-center gap-1 p-2">
                            <div class="bg-rose-600/80 rounded h-10 w-8 flex items-center justify-center text-white font-bold text-[10px] leading-tight text-center">R√©tro<br>1k‚Ç¨</div>
                            <div class="flex-grow h-full grid grid-cols-3 gap-2">
                                 <div class="bg-rose-800/80 rounded-md flex items-center justify-center text-white font-bold text-center text-xs p-1">Porte G<br>1 500 ‚Ç¨</div>
                                 <div class="bg-rose-700/80 rounded-md flex items-center justify-center text-white font-bold text-center text-xs p-1">Toit<br>5 000 ‚Ç¨</div>
                                 <div class="bg-rose-800/80 rounded-md flex items-center justify-center text-white font-bold text-center text-xs p-1">Porte D<br>1 500 ‚Ç¨</div>
                            </div>
                            <div class="bg-rose-600/80 rounded h-10 w-8 flex items-center justify-center text-white font-bold text-[10px] leading-tight text-center">R√©tro<br>1k‚Ç¨</div>
                        </div>
                         <div class="bg-gray-300 rounded-b-3xl h-20 w-full flex items-center justify-center">
                            <div class="bg-rose-900/80 rounded p-2 text-white font-bold text-xs text-center">Arri√®re<br>3 000 ‚Ç¨</div>
                        </div>
                    </div>
                    <div>
                        <p class="text-gray-600 mb-4 text-sm">Les emplacements sur le v√©hicule offrent une visibilit√© exceptionnelle pour nos partenaires. Nous proposons plusieurs niveaux de sponsoring :</p>
                        <ul class="space-y-3 text-sm">
                            <li class="p-3 bg-rose-50 rounded-lg"><strong class="text-rose-900">Platine (5000‚Ç¨+) :</strong> Emplacement principal (toit), visibilit√© maximale sur tous les supports.</li>
                            <li class="p-3 bg-yellow-50 rounded-lg"><strong class="text-yellow-900">Or (2500‚Ç¨ - 4999‚Ç¨) :</strong> Emplacements majeurs (capot, arri√®re), forte visibilit√©.</li>
                            <li class="p-3 bg-gray-100 rounded-lg"><strong class="text-gray-800">Argent (1000‚Ç¨ - 2499‚Ç¨) :</strong> Emplacements secondaires (portes, r√©troviseurs), bonne visibilit√©.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <div class="border-t my-16"></div>

        <section id="infos" class="pt-8">
            <h2 class="text-3xl font-bold text-center mb-10">‚ÑπÔ∏è Informations & Fichiers</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Centralisez ici tous les liens, documents, et contacts importants. Ajoutez une nouvelle entr√©e pour garder une trace de tout, des devis des fournisseurs aux articles de presse.</p>
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <div class="overflow-x-auto mb-6">
                    <table class="w-full text-sm text-left">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="p-3 font-semibold">Nom</th>
                                <th class="p-3 font-semibold">Lien / Fichier</th>
                                <th class="p-3 font-semibold text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="info-table-body" class="divide-y">
                        </tbody>
                    </table>
                </div>
                <form id="add-info-form" class="grid sm:grid-cols-3 gap-4 items-end">
                    <div class="sm:col-span-1">
                        <label for="info-name" class="block text-sm font-medium text-gray-700">Nom</label>
                        <input type="text" id="info-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500 sm:text-sm" required>
                    </div>
                    <div class="sm:col-span-1">
                        <label for="info-link" class="block text-sm font-medium text-gray-700">Lien (URL)</label>
                        <input type="url" id="info-link" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500 sm:text-sm" required>
                    </div>
                    <button type="submit" class="w-full sm:w-auto justify-center rounded-md border border-transparent bg-rose-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-rose-900 focus:outline-none focus:ring-2 focus:ring-rose-700 focus:ring-offset-2">Ajouter</button>
                </form>
            </div>
        </section>

        <div class="border-t my-16"></div>

        <section id="logistics" class="pt-8">
            <h2 class="text-3xl font-bold text-center mb-10">üõ†Ô∏è Pr√©paration & Logistique</h2>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Le succ√®s du rallye d√©pend d'une pr√©paration minutieuse. Cette checklist interactive nous aide √† suivre l'acquisition de chaque pi√®ce d'√©quipement, du mat√©riel de bivouac √† l'√©quipement de navigation. Cochez les cases au fur et √† mesure !</p>
            <div class="bg-white p-6 rounded-2xl shadow-lg">
                <div class="mb-8">
                    <h3 class="font-bold text-lg">Entra√Ænement</h3>
                    <p class="text-sm text-gray-600 mt-2">‚úÖ Course d'orientation √† Phalempin (prioritaire).</p>
                </div>
                <div id="accordion-container" class="space-y-4">
                </div>
            </div>
        </section>

    </main>
    
    <footer class="bg-white mt-16 border-t">
        <div class="container mx-auto py-6 px-4 text-center text-sm text-gray-500">
            <p>&copy; 2024-2025 Projet Rallye A√Øcha des Gazelles. Tous droits r√©serv√©s.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const fundraisingGoal = 40000;
            const currentAmount = 0; 

            const ctx = document.getElementById('progressChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [currentAmount, fundraisingGoal - currentAmount],
                        backgroundColor: ['#831843', '#FDE8EF'],
                        borderWidth: 0,
                        borderRadius: 5,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '75%',
                    plugins: { tooltip: { enabled: false }, legend: { display: false } }
                }
            });

            const eventFinanceData = [
                { name: "Course Halloween", revenue: 1500, cost: 300 },
                { name: "Vide-Dressing", revenue: 2000, cost: 200 },
                { name: "Soir√©e Nouvel An", revenue: 5000, cost: 2500 },
                { name: "Tombola", revenue: 3000, cost: 500 },
                { name: "Op. St-Valentin", revenue: 1000, cost: 400 },
            ];

            let eventProfitChart;

            function updateFinanceCalculations() {
                const profits = [];
                const labels = [];
                eventFinanceData.forEach((event, index) => {
                    const revenue = parseFloat(document.getElementById(`revenue-${index}`).value) || 0;
                    const cost = parseFloat(document.getElementById(`cost-${index}`).value) || 0;
                    const profit = revenue - cost;
                    document.getElementById(`profit-${index}`).textContent = profit.toFixed(2);
                    profits.push(profit);
                    labels.push(event.name);
                });
                if (eventProfitChart) {
                    eventProfitChart.data.labels = labels;
                    eventProfitChart.data.datasets[0].data = profits;
                    eventProfitChart.update();
                }
            }

            function renderFinanceTable() {
                const tableBody = document.querySelector("#event-finance-table tbody");
                tableBody.innerHTML = eventFinanceData.map((event, index) => `
                    <tr>
                        <td class="p-3 font-medium">${event.name}</td>
                        <td class="p-3"><input type="number" id="revenue-${index}" value="${event.revenue}" class="w-24 p-1 border rounded finance-input"></td>
                        <td class="p-3"><input type="number" id="cost-${index}" value="${event.cost}" class="w-24 p-1 border rounded finance-input"></td>
                        <td class="p-3 text-right font-semibold" id="profit-${index}">0.00</td>
                    </tr>
                `).join('');
                document.querySelectorAll('.finance-input').forEach(input => input.addEventListener('input', updateFinanceCalculations));
            }
            
            function initEventProfitChart() {
                const chartCtx = document.getElementById('eventProfitChart').getContext('2d');
                eventProfitChart = new Chart(chartCtx, {
                    type: 'bar',
                    data: { labels: [], datasets: [{ label: 'B√©n√©fice Net Estim√© (‚Ç¨)', data: [], backgroundColor: '#BE185D', borderRadius: 5 }] },
                    options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false } } }
                });
            }

            renderFinanceTable();
            initEventProfitChart();
            updateFinanceCalculations();

            const eventNames = [
                "Course √† Carvin", "Course d'Orientation Halloween", "Vide-Dressing & Vente", 
                "Soir√©e Nouvel An 100% Femmes", "Tombola & Galette des Rois", "Op√©ration Saint-Valentin"
            ];
            
            function renderEventDetails() {
                const container = document.getElementById('event-notes-container');
                container.innerHTML = eventNames.map(name => {
                    const key = `event-notes-${name.replace(/\s+/g, '-')}`;
                    const savedNotes = localStorage.getItem(key) || '';
                    return `
                        <div class="bg-white p-6 rounded-2xl shadow-lg">
                            <h3 class="font-bold text-lg mb-4">${name}</h3>
                            <textarea data-key="${key}" class="event-note w-full h-32 p-2 border border-gray-300 rounded-md focus:ring-rose-500 focus:border-rose-500 text-sm" placeholder="R√©digez vos notes pour cet √©v√©nement ici...">${savedNotes}</textarea>
                        </div>
                    `;
                }).join('');

                document.querySelectorAll('.event-note').forEach(textarea => {
                    textarea.addEventListener('input', (e) => {
                        localStorage.setItem(e.target.dataset.key, e.target.value);
                    });
                });
            }
            renderEventDetails();

            const infoForm = document.getElementById('add-info-form');
            const infoTableBody = document.getElementById('info-table-body');
            let infoItems = JSON.parse(localStorage.getItem('infoItems')) || [];

            function saveInfoItems() {
                localStorage.setItem('infoItems', JSON.stringify(infoItems));
            }

            function renderInfoItems() {
                infoTableBody.innerHTML = infoItems.map((item, index) => `
                    <tr>
                        <td class="p-3 font-medium">${item.name}</td>
                        <td class="p-3"><a href="${item.link}" target="_blank" class="text-rose-700 hover:underline break-all">${item.link}</a></td>
                        <td class="p-3 text-right"><button class="delete-info-btn text-red-500 hover:text-red-700 text-xs font-semibold" data-index="${index}">SUPPRIMER</button></td>
                    </tr>
                `).join('');
            }

            infoForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const name = document.getElementById('info-name').value.trim();
                const link = document.getElementById('info-link').value.trim();
                if (name && link) {
                    infoItems.push({ name, link });
                    saveInfoItems();
                    renderInfoItems();
                    infoForm.reset();
                }
            });

            infoTableBody.addEventListener('click', function(e) {
                if (e.target.classList.contains('delete-info-btn')) {
                    const index = e.target.dataset.index;
                    infoItems.splice(index, 1);
                    saveInfoItems();
                    renderInfoItems();
                }
            });
            renderInfoItems();
            
            const logisticsData = {
                "Pour le Bivouac": [
                    "Tente (montage simple et rapide)", "Tente de secours (optionnel)", "Maillet", "Lampe de tente",
                    "Sac de couchage 0¬∞C / -5¬∞C", "Drap de soie (pour les frileuses)", "Matelas de bonne qualit√© (autogonflant si possible)", "Oreiller"
                ],
                "Pour la Navigation": [
                    "2 Calculatrices", "Trousse (crayons porte-mine, gomme, surligneurs, r√®gle, pinces √† dessin, scotch)",
                    "2 Compas de vis√©e", "2 R√®gles de navigation (ficel√©es pour ne pas les perdre)", "Ruban adh√©sif double face et sangles",
                    "Pochettes cartonn√©es (pour feuilles de pointage et cartes du jour)", "2 Porte-vues (pour anciennes cartes et documents officiels)", "Sac porte-cartes"
                ],
                "Pour le Confort & l'Hygi√®ne": [
                    "Trousse de secours OBLIGATOIRE (couvertures de survie, parac√©tamol, etc.)", "Papier toilette biod√©gradable",
                    "3 Serviettes de toilette microfibre", "Gel douche et shampooing biod√©gradables", "Trousse de toilette compacte (avec crochet)",
                    "Lingettes nettoyantes et intimes", "Protections hygi√©niques", "Lampe frontale avec piles de rechange"
                ],
                "V√™tements & √âquipement Personnel": [
                    "Lunettes de soleil (avec soufflets lat√©raux)", "Masque de ski (pour temp√™tes de sable)",
                    "V√™tements vari√©s (pantalons toile, t-shirts, polaire, coupe-vent)", "Casquette ou cheich",
                    "Soutien-gorge √† maintien renforc√©", "Chaussures montantes (type Palladium)", "Baskets", "Tongs (pour la douche)",
                    "Tenue de gala et escarpins (pour la soir√©e de cl√¥ture)"
                ],
                "Divers & Utile": [
                    "Jeu de couverts (couteau, fourchette, cuill√®re)", "R√©sistance chauffe-eau ou r√©chaud (pour √©tape marathon)",
                    "Barres de c√©r√©ales, fruits secs, caf√© soluble, etc.", "Gants de travaux", "Cutter, tire-bouchon, thermos, briquet",
                    "R√©veil", "Sacs-poubelle", "Pince √† √©piler, ceinture pour le dos, patchs chauffants", "Ficelle et petits outils"
                ]
            };

            function updateCounters() {
                Object.keys(logisticsData).forEach((_, index) => {
                    const categoryItems = document.querySelectorAll(`.logistic-item[data-category-index="${index}"]`);
                    const checkedItems = document.querySelectorAll(`.logistic-item[data-category-index="${index}"]:checked`);
                    document.getElementById(`counter-${index}`).textContent = `${checkedItems.length} / ${categoryItems.length}`;
                });
            }

            const accordionContainer = document.getElementById('accordion-container');
            accordionContainer.innerHTML = Object.entries(logisticsData).map(([category, items], catIndex) => `
                <div class="border rounded-lg">
                    <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold">
                        <span>${category}</span>
                        <div class="flex items-center">
                           <span class="text-sm font-normal text-gray-500 mr-2" id="counter-${catIndex}">0 / ${items.length}</span>
                           <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </div>
                    </button>
                    <div class="accordion-content px-4 pb-4">
                        <ul class="space-y-2 text-sm">
                            ${items.map((item, itemIndex) => {
                                const checkboxId = `item-${catIndex}-${itemIndex}`;
                                const isChecked = localStorage.getItem(checkboxId) === 'true';
                                return `
                                <li class="flex items-center">
                                    <input type="checkbox" id="${checkboxId}" class="h-4 w-4 rounded border-gray-300 text-rose-800 focus:ring-rose-700 mr-3 logistic-item" data-category-index="${catIndex}" ${isChecked ? 'checked' : ''}>
                                    <label for="${checkboxId}" class="text-gray-700">${item}</label>
                                </li>
                            `}).join('')}
                        </ul>
                    </div>
                </div>
            `).join('');
            
            document.querySelectorAll('.accordion-header').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const icon = button.querySelector('svg');
                    const isExpanded = content.style.maxHeight;
                    document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = null);
                    document.querySelectorAll('.accordion-header svg').forEach(i => i.classList.remove('rotate-180'));
                    if (!isExpanded) {
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.classList.add('rotate-180');
                    }
                });
            });

            document.querySelectorAll('.logistic-item').forEach(item => {
                item.addEventListener('change', (e) => {
                    localStorage.setItem(e.target.id, e.target.checked);
                    updateCounters();
                });
            });
            updateCounters();

            const mobileNav = document.getElementById('mobile-nav');
            mobileNav.addEventListener('change', (e) => {
                const target = document.querySelector(e.target.value);
                if(target) target.scrollIntoView({ behavior: 'smooth' });
            });

            document.querySelectorAll('a.nav-link').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
